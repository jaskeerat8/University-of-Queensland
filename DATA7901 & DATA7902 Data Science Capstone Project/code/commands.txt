Deactivate Local Terminal in pycharm -
deactivate

Start Zookeeper by typing cmd in search bar after going into C:\kafka\ -
C:\kafka\bin\windows\zookeeper-server-start.bat C:\kafka\config\zookeeper.properties

Start kafka server by typing cmd in search bar after going into C:\kafka\ -
C:\kafka\bin\windows\kafka-server-start.bat C:\kafka\config\server.properties

Password for Bitcoin DBMS - capstone

NGROK.exe Command = ngrok http 8000 --domain=doe-good-formally.ngrok-free.app


Test Commands -

MATCH (t:Transaction)
RETURN COUNT(t) AS totalTransactions;

MATCH (block:Block)
OPTIONAL MATCH (transaction:Transaction)-[:INCLUDED_IN]->(block)
WITH block, COUNT(transaction) AS transactionCount
RETURN block.number AS blockNumber, transactionCount
ORDER BY blockNumber ASC;

MATCH (block:Block)
OPTIONAL MATCH (transaction:Transaction)-[:INCLUDED_IN]->(block)
WHERE transaction.unsupervised_anomaly = 1
WITH block, COUNT(transaction) AS transactionCount
RETURN block.number AS blockNumber, transactionCount;

MATCH (transaction:SubTransaction)
WHERE transaction.supervised_alert_probability = -0.1
WITH COUNT(transaction) AS transactionCount
RETURN transactionCount;

MATCH (transaction:Transaction)-[:INCLUDED_IN]->(block)
OPTIONAL MATCH (transaction)-[:FROM]->(outputSub:SubTransaction)
OPTIONAL MATCH (inputSub:SubTransaction)-[:FOR]->(transaction)
RETURN transaction.txid AS txid, COUNT(DISTINCT inputSub) AS input_count, COUNT(DISTINCT outputSub) AS output_count
ORDER BY input_count DESC

MATCH (transaction:Transaction)-[:INCLUDED_IN]->(block)
OPTIONAL MATCH (transaction)-[:OUTPUTS]->(outputSub:SubTransaction)
OPTIONAL MATCH (inputSub:SubTransaction)-[:INPUTS]->(transaction)
RETURN transaction.txid AS txid, COUNT(DISTINCT inputSub) AS input_count, COUNT(DISTINCT outputSub) AS output_count
ORDER BY input_count DESC

MATCH (t:Transaction)
WHERE t.isolation_alert = 1 AND t.zscore_alert = 1 AND t.point_alert = 1
RETURN t;



"60e4979669266408de3aad95d388cf1594cfa9d7142f8b64a25d8a1cabc3a302"

MATCH (transaction:Transaction {txid: "60e4979669266408de3aad95d388cf1594cfa9d7142f8b64a25d8a1cabc3a302"})-[:INCLUDED_IN]->(block)
OPTIONAL MATCH (transaction)-[:OUTPUTS]->(outputSub:SubTransaction)
OPTIONAL MATCH (inputSub:SubTransaction)-[:INPUTS]->(transaction)
WITH transaction, block,
    COLLECT(DISTINCT {
        txid: inputSub.txid,
        address: inputSub.address,
        value: inputSub.value,
        Transaction_type: inputSub.Transaction_type,
        supervised_alert: inputSub.supervised_alert,
        supervised_alert_probability: inputSub.supervised_alert_probability
    }) AS vin,
    COLLECT(DISTINCT {
        n: SPLIT(outputSub.txid, "_")[1],
        address: outputSub.address,
        value: outputSub.value,
        is_utxo: outputSub.is_utxo,
        Transaction_type: outputSub.Transaction_type
    }) AS vout
RETURN {
    txid: transaction.txid,
    block_number: transaction.block_number,
    vin: vin,
    vout: vout
} AS transactionDetails
